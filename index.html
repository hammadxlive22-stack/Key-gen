<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pahadi Secure Access</title>
    <style>
        body { background-color: #000; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: #1a0000; border: 2px solid #ff0000; padding: 25px; border-radius: 15px; text-align: center; width: 320px; box-shadow: 0 0 20px #500; }
        .key-display { background: #000; border: 1px solid #ff4d4d; padding: 15px; margin: 15px 0; font-size: 1.2rem; letter-spacing: 2px; color: #ff4d4d; text-shadow: 0 0 5px #ff0000; min-height: 30px; }
        button { background: linear-gradient(#ff4d4d, #800); color: white; border: none; padding: 12px; width: 100%; border-radius: 5px; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .timer { color: #ffcc00; font-size: 2rem; margin: 10px 0; }
    </style>
</head>
<body>

<div class="card">
    <h3 style="color: #ff4d4d;">ACCESS CONTROL</h3>
    <div id="timerArea" style="display:none;">
        <p>Please Wait</p>
        <div class="timer" id="seconds">5</div>
    </div>
    
    <div class="key-display" id="keyBox">---- ---- ----</div>
    
    <button id="mainBtn" onclick="startProcess()">Generate Instant Key</button>
    <button id="copyBtn" onclick="copyKey()" style="display:none; margin-top:10px; background: #333;">Copy to Clipboard</button>
</div>

<script>
async function startProcess() {
    const btn = document.getElementById('mainBtn');
    const timerArea = document.getElementById('timerArea');
    const seconds = document.getElementById('seconds');
    const keyBox = document.getElementById('keyBox');

    btn.disabled = true;
    timerArea.style.display = 'block';
    
    // 5 Second ka Timer
    let count = 5;
    let timer = setInterval(async () => {
        count--;
        seconds.innerText = count;
        if(count <= 0) {
            clearInterval(timer);
            timerArea.style.display = 'none';
            await fetchKey();
        }
    }, 1000);
}

async function fetchKey() {
    const keyBox = document.getElementById('keyBox');
    const copyBtn = document.getElementById('copyBtn');
    
    try {
        // Aapka Panel Login credentials
        const auth = btoa('keygen@gmail.com:keygen@hammad');
        
        const response = await fetch('https://hammad.myvippanel.shop/get_key.php', {
            headers: { 'Authorization': 'Basic ' + auth }
        });

        if(!response.ok) throw new Error();
        const data = await response.text();
        
        keyBox.innerText = data;
        copyBtn.style.display = 'block';
    } catch (e) {
        keyBox.innerText = "AUTH ERROR!";
    }
}

function copyKey() {
    navigator.clipboard.writeText(document.getElementById('keyBox').innerText);
    alert("Key Copied!");
}
</script>
</body>
</html>
